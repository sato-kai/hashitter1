$(document).on("turbolinks:load",function(){

  function appendMensHair1(){
    var mensHairHtml = '';
    mensHairHtml = `<div class="mens-hair" id="hair">
                      <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                        <path d="m169.33 120.79-10.583-21.167c0 8.4667-10.583 19.05-21.167 21.167l1.5875-21.167c-3.5879 4.5086-22.754 19.05-33.338 21.167l4.2333-26.987c-12.056 25.957-57.15 35.454-67.733 35.454v-22.225 33.337l-7.9375-21.696c-2.6458 21.167-4.7625 0-4.7625-31.75 4.2333-30.692 23.283-31.75 4.2333-29.104 29.633-44.979 82.622-23.927 29.633-31.221 24.342-2.6458 62.533-14.38 63.5 0.52917 6.819 3.507 31.75 4.7625 42.333 38.629 15.012 15.805 11.32 30.968 10.583 44.45l-10.583 29.104v-32.808z" stroke-width="2.5" stroke="#0c080c"></path>
                      </svg>
                    </div>`;
    $('.hair').append(mensHairHtml);
  }
  function appendMensHair2(){
    var mensHairHtml = '';
    mensHairHtml = `<div class="mens-hair" id="hair">
                      <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                        <path d="m105.83 20.775c5.2917 1.0583 15.875 1.0583 26.458-4.2333l-5.2917 4.7625c11.962 6.7297 22.131 7.23 31.75 5.8208l-15.875 5.2917c4.3624 4.4656 17.869 7.5528 31.75 10.583l-10.583 5.2917c7.045 8.8255 12.29 18.681 21.167 26.458h-10.583c4.1172 12.51 8.9958 31.75 15.875 37.042l-10.583-5.2917-8.9958 26.458-3.7042-30.692-3.175 14.817-10.583-21.167-10.583-10.583-26.458 21.167 5.2917-26.458-26.458 26.458v-21.167l-26.458 31.75v-21.167l-15.875 26.458-5.2917-21.167-6.8792 31.75-8.9958-26.458-7.4083 5.2917c-0.20441-0.40379 8.3855-23.973 12.7-37.042h-10.583c6.0542-4.5518 14.069-17.461 21.167-26.458l-10.583-5.2917c17.221-3.4643 28.243-6.9878 31.75-10.583l-15.875-5.2917c9.1644 0.94736 21.167 2e-6 31.75-5.2917l-5.2917-4.7625c12.282 3.2964 21.167 4.7625 26.458 3.7042z" stroke="#000" stroke-width="3"/>
                      </svg>
                    </div>`;
    $('.hair').append(mensHairHtml);
  }
  function appendMensHair3(){
    var mensHairHtml = '';
    mensHairHtml = `<div class="mens-hair" id="hair">
                      <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                        <g stroke="#000">
                          <path d="m31.75 95.917c3.5112-38.873 26.458-68.792 74.083-74.083 47.625 5.2917 70.646 34.892 74.083 74.083 1e-5 15.875-5.2917 23.813-10.583 39.688l-5.2917-2.6458-5.2917-26.458-5.2917-21.167h-95.25l-5.2917 21.167-5.2917 26.458-5.2917 2.6458c-5.2917-10.583-10.583-23.812-10.583-39.688z" stroke-width="3"/>
                      </svg>
                    </div>`;
    $('.hair').append(mensHairHtml);
  }
  function appendLadiesHair1(){
    var ladiesHairHtml = '';
    ladiesHairHtml = `<div class="ladies-hair" id="hair">
                        <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                          <path d="m137.58 93.8c-4.1375 6.1587-10.051 12.565-31.75 21.167l10.583-21.167c-19.155 19.684-45.239 27.985-74.083 31.75l21.167 42.333-10.583-10.583v10.583l-13.758-21.167c-7.4083-10.583-17.992-31.75-12.171-63.5 9.3032-24.916 13.471-51.186 78.846-62.442 42.359 7.3462 73.104 24.377 76.2 62.442 8.4667 21.167 2.6823 58.225-7.9375 67.204l-14.288 17.462-2.1167-13.229-10.054 12.171c5.9372-5.5448 10.508 1.3806 21.696-41.275l-10.583-31.75c0 10.583-4.0156 14.888-21.167 21.167z" stroke-width="3" stroke="#000"></path>
                        </svg>
                      </div>`;
    $('.hair').append(ladiesHairHtml);
  }
  function appendLadiesHair2(){
    var ladiesHairHtml = '';
    ladiesHairHtml = `<div class="ladies-hair" id="hair">
                        <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                          <g stroke="#000">
                            <path d="m23.283 80.042c-4.9849 14.166-2.1167 26.458 1.0583 33.338 10.241 22.373 16.231 19.592 23.283 30.162-5.8486-8.6914-12.48-14.723-15.875-31.75-5e-6 -1.6715-5.2917-21.167 0-31.75-1.8115-5.1736 6.8792-23.283 12.171-28.575-2.9223-3.353-12.171-1.5875-12.7-2.6458-10.583 3.175-14.048 0.3359-20.638 20.638l-5.2917 15.875c-1.14e-5 9.3345-5.9e-6 15.06 0 21.167 3.7506 13.235 7.2394 31.865 10.583 37.042 5.2917 3.5278 17.408 11.605 15.875 10.583 15.875 10.583 14.97 13.912 16.933 15.875v10.583l-1.0583 10.583c15.875 0 21.167-10.583 15.875-26.458-5.2917-5.2917-5.2917-5.2917-10.583-10.583l-5.2917-10.583-1.5875-15.875c22.754-10.583 45.791-20.703 59.796-42.333-8.5805 10.151-20.324 20.665-37.042 31.75 26.458 0 52.064-11.434 68.792-31.75-5.1845 14.977-13.312 27.825-26.458 37.042 18.604-2.0064 35.23-7.8381 37.042-42.333 15.204 24.188 21.167 47.625 15.875 63.5 7.5856-11.217 9.8976-22.414 5.2917-47.625 0 15.875 5.2917 26.458 0 37.042 4.2346-7.3436 10.583-21.167 10.583-26.458 0-21.167-6.8093-53.929-28.046-73.025-15.817-8.7222-46.038-18.521-67.204-7.9375-21.167 0-30.162 10.583-40.746 26.458 0 1e-6 -5.2917 6.8792-9.525 15.346" stroke-linejoin="round" stroke-opacity=".97233" stroke-width="3"/>
                            <path d="m63.5 74.75c-14.745 14.492-15.875 26.458-15.875 42.333v0" stroke-linecap="round" stroke-width="3"/>
                            <path class="hair_band" d="m42.863 50.408c-5.952 8.4466-5.8208 8.4667-11.289 21.96l-5.1153-2.9104c0-5.2917 4.7625-16.933 8.4667-19.05 2.1167-2.1167 4.4129-0.92269 7.9375 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.9764"/>
                        </svg>
                      </div>`;
    $('.hair').append(ladiesHairHtml);
  }
  function appendLadiesHair3(){
    var ladiesHairHtml = '';
    ladiesHairHtml = `<div class="ladies-hair" id="hair">
                        <svg version="1.1" viewBox="0 0 210 297" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg">
                          <path d="m105.83 21.304c26.458-5.2917 56.092 20.108 59.796 26.988 14.8 31.162 14.288 79.375 8.9958 100.54l-10.583 37.042-5.2917 37.042v0h-26.458c5.2917-10.583 10.583-42.333-1e-5 -47.625 10.583-5.2917 27.368-21.553 31.75-37.042-2.6986-14.702-2.6913-28.181-15.875-47.625 1e-5 10.583 1e-5 21.167 5.2917 31.75-7.548-9.8735-15.875-5.2917-21.167-42.333 5.2917 47.625-35.567 40.124-31.75 41.275 7.7888-9.2513 10.583-9.525 10.583-25.4-5.2917 21.167-21.167 26.458-32.808 25.4 6.35-9.525 6.35-9.525 6.35-25.4-11.058 32.357-24.881 25.768-26.458 26.458 5.2917-10.583 5.2917-21.167 5.2917-31.75-12.526 19.754-15.059 54.053-15.875 47.625-0.78437 8.3776 10.583 26.458 31.75 37.042-7.4588 3.6466-6.1628 9.5833-5.2917 31.75l5.2917 15.875h-26.458l-5.2917-37.042-10.583-31.75c0-26.458-15.421-56.756 10.054-105.83 21.167-26.458 40.702-28.391 58.737-26.988z" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
                        </svg>
                      </div>`;
    $('.hair').append(ladiesHairHtml);
  }


  $('input[name="user[avatar_attributes][hair]"]:radio').change(function(){
    $('#hair').remove();
    var hairStyle = $('input[name="user[avatar_attributes][hair]"]:checked').val();
    var color = $('input[name="user[avatar_attributes][hair_color]"]:checked').attr('class');
    if (hairStyle == 'mens_hair1'){
      $('#hair').remove();
      appendMensHair1();
      $('#hair').addClass(color);
    }else if (hairStyle == 'mens_hair2'){
      $("#hair").remove();
      appendMensHair2();
      $('#hair').addClass(color);
    }else if (hairStyle == 'mens_hair3'){
      $('#hair').remove();
      appendMensHair3();
      $('#hair').addClass(color);
    }else if (hairStyle == 'ladies_hair1'){
      $('#hair').remove();
      appendLadiesHair1();
      $('#hair').addClass(color);
    }else if (hairStyle == 'ladies_hair2'){
      $('#hair').remove();
      appendLadiesHair2();
      $('#hair').addClass(color);
    }else {
      $('#hair').remove();
      appendLadiesHair3();
      $('#hair').addClass(color);
    };
    
  });

  $('input[name="user[avatar_attributes][hair_color]"]:radio').change(function(){
    var color = this.className;
    var hairStyle = $('input[name="user[avatar_attributes][hair]"]:checked').val();
    if ($(hairStyle).length){
    $('#hair').removeClass();
    $('#hair').addClass('mens-hair');
    $('#hair').addClass(color);
    }else {
      $('#hair').removeClass();
      $('#hair').addClass('ladies-hair');
      $('#hair').addClass(color);
    }
  });

});