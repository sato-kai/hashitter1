!!!
%html
  %head
    %meta{content: "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title Hashitter1
    = csrf_meta_tags
    = csp_meta_tag
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload'
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
  %body
    -# ヘッダー
    %header.header
      .header__left
        = link_to "Hashitter", root_path, class: "home-link"
      -# - if flash[:notice]
      -#   .flash-notice
      -#     = flash[:notice]
      
      .header__right
        - if user_signed_in?
          %ul.header__right__menu
            = link_to "WORK", root_path, class: "list"
            .list
              .js-modal-new-tweet-open
                TWEET
            = link_to "ログアウト", destroy_user_session_path, class: "list", metod: :delete
          .avatar-circle
            .header-icon
              .avatar
                = link_to user_path(current_user), class: "list" do
                  = render partial: "/users/avatar", locals: {user: current_user}
        - else
          .header__right__menu
            = link_to "ログイン", new_user_session_path, class: "list"
            = link_to "新規登録", new_user_registration_path, class: "list"
    - if flash[:notice]
      .flash-notice
        = flash[:notice]
    -# モーダル
    .modal.js-modal-new-tweet
      .modal__bg.js-modal-close
      .modal__content
        = icon "fas", "times", class: "js-modal-close"
        .modal-form
          .modal-form__title
            つぶやき
          = form_with(model: @new_tweet, url: "/tweets", local: true, id: "new_tweet") do |f|
            = render partial: "/layouts/modal_form", locals: {f: f}
    -# モーダル
    .modal.js-modal-edit-tweet
      .modal__bg.js-modal-close
      .modal__content
        = icon "fas", "times", class: "js-modal-close"
        .modal-form
          .modal-form__title
            つぶやきを編集
          = form_with(model: @tweet, local: true) do |f|
            = render partial: "/layouts/modal_form", locals: {f: f}
    -# commentモーダル
    .modal.js-modal-comment
      .modal__bg.js-modal-comment-close
      .modal__content
        = icon "fas", "times", class: "js-modal-comment-close"
        .form
          = form_with(model: @tweet, local: true) do |f|
            .tweet-form
              = f.text_area :text, placeholder: "コメントしよう！", class: "text-field"
            .lower-form
              = f.label :image, class: "image-label" do
                = f.file_field :image, class: "hidden-form"
                = icon "far", "image", class: "image-icon"
                .modal-tooltip
                  画像投稿
                  .modal-balloon
              .actions.modal-submit
                = f.submit "コメント", class: "submit-button"
    -# 全体を囲うスタイル
    .wrapper-contents
      .contents
        = yield
